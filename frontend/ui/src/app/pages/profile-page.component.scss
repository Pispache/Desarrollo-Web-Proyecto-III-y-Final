/* ===== Perfil: tema oscuro por defecto con soporte claro ===== */
.profile-page {
  min-height: calc(100vh - var(--navbar-height, 70px));
  padding: 1rem;

  /* Hereda el fondo del layout principal */
  background: transparent !important;
  color: #e7e9ff;

  h2 { color: #ffffff; }

  .table-responsive { overflow-x: auto; }

  table,
  .table { width: 100%; color: #e7e9ff; background: rgba(255,255,255,0.03); }
  .users-table tbody tr { background: transparent; }
  .users-table tbody tr:hover { background: rgba(255,255,255,0.04); }
  thead th {
    background: rgba(255,255,255,0.06);
    color: #9aa0bd;
    border-bottom: 1px solid rgba(255,255,255,0.12);
  }
  tbody td { border-bottom: 1px solid rgba(255,255,255,0.08); }

  .error { color: #ffb4b4; }

  /* Contenedor tipo card */
  .page-card {
    background: rgba(255,255,255,0.03);
    border-radius: 12px;
    box-shadow: 0 6px 24px rgba(0,0,0,0.35);
    backdrop-filter: blur(6px);
  }
  .page-card__header {
    position: sticky;
    top: calc(var(--navbar-height, 70px) + 0px);
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem 1rem 0.75rem 1rem;
    border-bottom: 1px solid rgba(255,255,255,0.08);
    background: linear-gradient(0deg, rgba(0,0,0,0.0), rgba(0,0,0,0.15));
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
  }
  .subtitle { color:#9aa0bd; font-size: 0.9rem; }
  .status-pill {
    font-size: 0.85rem;
    padding: 0.25rem 0.6rem;
    border-radius: 999px;
    background: rgba(16,185,129,0.15);
    color: #a0f0cf;
    border: 1px solid rgba(16,185,129,0.35);
    white-space: nowrap;
  }

  .modern-table thead th { position: static; top: auto; z-index: auto; }
  .modern-table .col-id { width: 72px; }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  .muted { opacity: 0.7; font-size: 0.9rem; }

  .user-cell { display: flex; align-items: center; gap: 0.75rem; }
  .user-cell .stack { line-height: 1.1; }
  .avatar {
    width: 32px; height: 32px; border-radius: 50%; background-size: cover; background-position: center;
    border: 1px solid rgba(255,255,255,0.25);
  }
  .avatar-fallback { display:flex; align-items:center; justify-content:center; background:#1f2937; color:#e5e7eb; }

  .badge { display:inline-block; padding:0.25rem 0.5rem; border-radius:8px; font-size:0.8rem; }
  .badge-success { background: rgba(16,185,129,0.18); color:#befae3; border:1px solid rgba(16,185,129,0.35); }
  .badge-danger { background: rgba(239,68,68,0.18); color:#fecaca; border:1px solid rgba(239,68,68,0.35); }
  .badge-soft { background: rgba(148,163,184,0.15); color:#cbd5e1; border:1px solid rgba(148,163,184,0.25); }

  /* Herramientas superiores */
  .table-tools { display:flex; align-items:center; justify-content: space-between; gap:.75rem; padding: .5rem 1rem; }
  .table-tools .search { max-width: 360px; flex: 1 1 auto; }
  .table-tools .right-tools { display:flex; align-items:center; gap:.5rem; }

  /* Menú Acciones (simple, sin Bootstrap JS) */
  .actions-cell { position: relative; }
  .actions-menu { position:absolute; right:0; top: 100%; margin-top: .25rem; min-width: 180px; background: rgba(10,20,40,.98); border:1px solid rgba(255,255,255,.12); border-radius:10px; box-shadow: 0 12px 28px rgba(0,0,0,.35); padding:.25rem; z-index: 5; }
  .actions-menu .item { display:flex; align-items:center; gap:.5rem; padding:.45rem .6rem; border-radius:8px; cursor:pointer; color:#e7e9f0; text-decoration:none; }
  .actions-menu .item:hover { background: rgba(255,255,255,.08); color:#fff; }
}

/* ===== Tema claro (Angular encapsulación) ===== */
:host-context(html[data-theme="light"]) .profile-page {
  background: transparent !important;
  color: #111827;

  h2 { color: #111827; }

  table,
  .table { background: #ffffff; color: #111827; }
  .users-table tbody tr { background: #ffffff; }
  .users-table tbody tr:nth-child(even) { background: #ffffff; } /* sin rayado oscuro */
  .users-table tbody tr:hover { background: #f9fafb; }
  thead th {
    background: #f3f4f6;
    color: #6b7280;
    border-bottom: 1px solid rgba(0,0,0,0.08);
  }
  tbody td { border-bottom: 1px solid rgba(0,0,0,0.06); }

  .page-card { background:#ffffff; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
  .page-card__header { background: linear-gradient(0deg, rgba(255,255,255,0.7), rgba(255,255,255,0.95)); border-bottom:1px solid rgba(0,0,0,0.06); }
  .subtitle { color:#6b7280; }
  .status-pill { background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
  .avatar { border-color: rgba(0,0,0,0.08); }
  .avatar-fallback { background:#f3f4f6; color:#374151; }
  .badge-success { background:#ecfdf5; color:#047857; border-color:#a7f3d0; }
  .badge-danger { background:#fef2f2; color:#991b1b; border-color:#fecaca; }
  .badge-soft { background:#f3f4f6; color:#374151; border-color: rgba(0,0,0,0.06); }
  .actions-menu { background: #ffffff; border:1px solid rgba(0,0,0,.08); box-shadow: 0 12px 28px rgba(0,0,0,.15); }
  .actions-menu .item { color:#111827; }
  .actions-menu .item:hover { background:#f3f4f6; color:#111827; }
}

/* Estilo del switch acorde al tema */
:host-context(html:not([data-theme="light"])) .form-check-input { background-color:#111827; border-color: rgba(255,255,255,0.25); }
:host-context(html:not([data-theme="light"])) .form-check-input:checked { background-color:#10b981; border-color:#10b981; }
:host-context(html[data-theme="light"]) .form-check-input { background-color:#e5e7eb; border-color: rgba(0,0,0,0.2); }
:host-context(html[data-theme="light"]) .form-check-input:checked { background-color:#10b981; border-color:#10b981; }
